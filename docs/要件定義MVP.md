MVP（Minimum Viable Product）として、チュートリアル作成やスキルアップに最適な「最優先機能」のみに絞った要件定義書を作成しました。

このバージョンでは、**「ランキング競争」と「自動集計」** というコア体験を残しつつ、ポイント機能や管理画面などの**「なくても動く機能」を大胆に削減**しています。これにより、開発工数を大幅に抑え、まずは「動くもの」を最速で作ることを目指します。

***

# MVP要件定義書：学習時間競争アプリ「Study Marathon (MVP版)」

## 1. MVPの目的
- **コア価値の検証:** 「学習時間を可視化し、競争することがモチベーションに繋がるか」を検証する。
- **最速リリース:** 複雑なロジックを排除し、Spring Bootの基本機能（CRUD, Security）学習用として完結させる。

## 2. スコープ定義 (MoSCoW分析)

| 優先度 | 機能分類 | MVPでの扱い | 理由 |
| :--- | :--- | :--- | :--- |
| **Must** | ユーザー登録・ログイン | **実装する** | 個人の記録を紐付けるため必須 |
| **Must** | 学習時間の記録 | **実装する** | アプリの根幹機能 |
| **Must** | 週間ランキング表示 | **実装する** | 「競争」というコア価値のため必須 |
| **Should** | 自分の週間合計表示 | **実装する** | モチベーション維持に重要 |
| **Won't** | **ポイント付与・管理** | **実装しない** | 競争の結果（順位）だけで十分機能するため |
| **Won't** | **過去履歴の詳細検索** | **実装しない** | 直近の記録が見られれば十分 |
| **Won't** | **パスワードリセット** | **実装しない** | 管理者による手動対応または作り直しで対応 |

## 3. 機能要件 (MVP)

### 3.1 ユーザー管理 (簡素化)
- **U-01 新規登録:** ユーザー名、パスワードのみで登録。（メールアドレス確認等は省略）
- **U-02 ログイン:** Spring Securityのフォーム認証を使用。

### 3.2 学習記録
- **S-01 記録登録:** 「日付」「分数」「カテゴリ(自由記述)」の3項目のみ入力。
- **S-02 自分の記録一覧:** ログインユーザーの全記録を単純なリストで表示（ページネーションなし、またはシンプルな件数制限）。

### 3.3 ランキング (自動集計)
- **R-01 週間ランキング:**
  - 集計期間：今週の月曜 0:00 ～ 現在
  - 表示内容：順位、ユーザー名、合計時間
  - ロジック：アクセス時にDBからSQLで集計して表示（バッチ処理は使わず、リアルタイム集計で実装を簡略化）

## 4. データベース設計 (MVP用・2テーブルのみ)

### 4.1 Users
| カラム名 | 型 | 備考 |
| :--- | :--- | :--- |
| id | BIGINT | PK |
| username | VARCHAR | UNIQUE, Not Null |
| password | VARCHAR | Not Null (BCrypt) |

### 4.2 Study_Logs
| カラム名 | 型 | 備考 |
| :--- | :--- | :--- |
| id | BIGINT | PK |
| user_id | BIGINT | FK (Users.id) |
| study_date | DATE | Not Null |
| duration | INT | 分単位 |
| content | VARCHAR | 学習内容（任意） |

## 5. 画面遷移 (3画面のみ)

1.  **ログイン/登録画面**
    - シンプルなフォーム。タブで「ログイン」「新規登録」を切り替え。
2.  **ホーム画面 (ダッシュボード)**
    - **上部:** 「今週の学習時間：XX時間XX分」
    - **中部:** 学習記録入力フォーム（登録ボタンを押すと即座に反映）
    - **下部:** 週間ランキングTOP10
3.  **記録一覧画面**
    - 自分の過去ログを単純な `<table`> で表示。削除ボタンのみ配置。

## 6. 開発ステップ（チュートリアル構成案）

このMVPを開発する場合、以下の順序で作るとチュートリアル動画としても構成しやすくなります。

1.  **Hello World & DB接続:** H2 Databaseへの接続とEntity作成
2.  **CRUD実装:** 学習記録の登録と一覧表示（まずは自分だけ）
3.  **セキュリティ導入:** Spring Securityでログイン機能を実装し、データをユーザーに紐づける
4.  **集計ロジック実装:** JPQL/SQLで「今週の合計」を計算して表示
5.  **ランキング実装:** 全ユーザーのデータを集計してトップページに表示

***

### ポイント
MVPでは**「ポイント機能」と「バッチ処理」をあえて削りました**。
これにより、「バッチが動かない」「ポイント計算が合わない」といった複雑なバグに悩まされることなく、**「入力→集計→ランキング表示」というデータフローの基本**に集中して開発を完了できます。まずはこれを完成させ、v2アップデートとしてポイント機能を実装するのがおすすめです。

[1](https://note.com/activist_j_gr/n/n871b1369579c)
[2](https://walker-s.co.jp/media/requirements-definition/)
[3](https://shift-ai.co.jp/blog/7716/)
[4](https://zenn.dev/yasuna/articles/9dadbcdc3be48d)
[5](https://nocoderi.co.jp/2025/05/02/mvp%E9%96%8B%E7%99%BA-%E8%A6%81%E4%BB%B6%E5%AE%9A%E7%BE%A9%EF%BD%9C%E5%A4%B1%E6%95%97%E3%81%97%E3%81%AA%E3%81%84%E6%9C%80%E5%B0%8F%E6%A9%9F%E8%83%BD%E8%A8%AD%E8%A8%88%E3%81%AE%E9%80%B2%E3%82%81/)
[6](https://crexgroup.com/ja/development/project/requirements-definition-guide/)
[7](https://nocoderi.co.jp/2025/05/02/%E3%80%90%E5%AE%8C%E5%85%A8%E4%BF%9D%E5%AD%98%E7%89%88%E3%80%91mvp%E9%96%8B%E7%99%BA%E3%81%AB%E4%BD%BF%E3%81%88%E3%82%8B%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E9%9B%86%EF%BD%9C/)
[8](https://ripurun.com/media/requirement-specification/youkenteigi-books/)
[9](https://www.ipa.go.jp/archive/publish/qv6pgp0000000wrt-att/000079352.pdf)
[10](https://www.geekly.co.jp/column/cat-technology/1903_059/)